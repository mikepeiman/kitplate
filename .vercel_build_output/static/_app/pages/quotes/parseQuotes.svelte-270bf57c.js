import{S as Le,i as we,s as De,e as _,k as y,c as g,a as v,d as f,n as A,b as p,f as x,D as u,R as de,T as re,a1 as Ie,E as oe,V as Be,A as Fe,t as N,g as q,a2 as pe,a3 as he,h as M,F as ee,l as R}from"../../chunks/vendor-a50b8347.js";import{s as Ce,p as Ve,a as Qe}from"../../chunks/parseQuotes.svelte_svelte_type_style_lang-bfedaa52.js";function _e(r,e,s){const l=r.slice();return l[16]=e[s],l[18]=s,l}function ge(r,e,s){const l=r.slice();return l[19]=e[s],l}function ve(r,e,s){const l=r.slice();return l[22]=e[s],l}function be(r,e,s){const l=r.slice();return l[25]=e[s],l}function Ge(r){let e;return{c(){e=N("loading...")},l(s){e=q(s,"loading...")},m(s,l){x(s,e,l)},p:oe,d(s){s&&f(e)}}}function je(r){let e,s=r[3],l=[];for(let a=0;a<s.length;a+=1)l[a]=qe(_e(r,s,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=R()},l(a){for(let n=0;n<l.length;n+=1)l[n].l(a);e=R()},m(a,n){for(let t=0;t<l.length;t+=1)l[t].m(a,n);x(a,e,n)},p(a,n){if(n&8){s=a[3];let t;for(t=0;t<s.length;t+=1){const i=_e(a,s,t);l[t]?l[t].p(i,n):(l[t]=qe(i),l[t].c(),l[t].m(e.parentNode,e))}for(;t<l.length;t+=1)l[t].d(1);l.length=s.length}},d(a){ee(l,a),a&&f(e)}}}function me(r){let e,s,l,a,n=r[16].authorTitle,t=[];for(let i=0;i<n.length;i+=1)t[i]=ze(be(r,n,i));return{c(){e=_("label"),s=_("span"),l=N("Title"),a=y();for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=g(i,"LABEL",{class:!0});var c=v(e);s=g(c,"SPAN",{class:!0});var o=v(s);l=q(o,"Title"),o.forEach(f),a=A(c);for(let d=0;d<t.length;d+=1)t[d].l(c);c.forEach(f),this.h()},h(){p(s,"class","quotepart-label rounded-none svelte-zziz5s"),p(e,"class","input-group input-group-xs rounded-none")},m(i,c){x(i,e,c),u(e,s),u(s,l),u(e,a);for(let o=0;o<t.length;o+=1)t[o].m(e,null)},p(i,c){if(c&8){n=i[16].authorTitle;let o;for(o=0;o<n.length;o+=1){const d=be(i,n,o);t[o]?t[o].p(d,c):(t[o]=ze(d),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(i){i&&f(e),ee(t,i)}}}function ze(r){let e,s=r[25]+"",l;return{c(){e=_("span"),l=N(s),this.h()},l(a){e=g(a,"SPAN",{class:!0});var n=v(e);l=q(n,s),n.forEach(f),this.h()},h(){p(e,"class","rounded-none badge badge-success bg-coolGray-900 text-sky-400 input-xs svelte-zziz5s")},m(a,n){x(a,e,n),u(e,l)},p(a,n){n&8&&s!==(s=a[25]+"")&&M(l,s)},d(a){a&&f(e)}}}function Ee(r){let e,s,l,a,n,t=r[16].date+"",i;return{c(){e=_("label"),s=_("span"),l=N("Date"),a=y(),n=_("span"),i=N(t),this.h()},l(c){e=g(c,"LABEL",{class:!0});var o=v(e);s=g(o,"SPAN",{class:!0});var d=v(s);l=q(d,"Date"),d.forEach(f),a=A(o),n=g(o,"SPAN",{class:!0});var h=v(n);i=q(h,t),h.forEach(f),o.forEach(f),this.h()},h(){p(s,"class","quotepart-label rounded-none svelte-zziz5s"),p(n,"class","rounded-none badge badge-info bg-coolGray-900 text-gray-400 input-xs svelte-zziz5s"),p(e,"class","input-group input-group-xs rounded-none")},m(c,o){x(c,e,o),u(e,s),u(s,l),u(e,a),u(e,n),u(n,i)},p(c,o){o&8&&t!==(t=c[16].date+"")&&M(i,t)},d(c){c&&f(e)}}}function ke(r){let e,s,l,a,n,t=r[16].source+"",i;return{c(){e=_("label"),s=_("span"),l=N("Source"),a=y(),n=_("span"),i=N(t),this.h()},l(c){e=g(c,"LABEL",{class:!0});var o=v(e);s=g(o,"SPAN",{class:!0});var d=v(s);l=q(d,"Source"),d.forEach(f),a=A(o),n=g(o,"SPAN",{class:!0});var h=v(n);i=q(h,t),h.forEach(f),o.forEach(f),this.h()},h(){p(s,"class","quotepart-label rounded-none svelte-zziz5s"),p(n,"class","rounded-none badge badge-warning input-xs bg-coolGray-900 text-sky-500 input-xs svelte-zziz5s"),p(e,"class","input-group input-group-xs rounded-none")},m(c,o){x(c,e,o),u(e,s),u(s,l),u(e,a),u(e,n),u(n,i)},p(c,o){o&8&&t!==(t=c[16].source+"")&&M(i,t)},d(c){c&&f(e)}}}function ye(r){let e,s=r[16].tags,l=[];for(let a=0;a<s.length;a+=1)l[a]=Ae(ve(r,s,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=R()},l(a){for(let n=0;n<l.length;n+=1)l[n].l(a);e=R()},m(a,n){for(let t=0;t<l.length;t+=1)l[t].m(a,n);x(a,e,n)},p(a,n){if(n&8){s=a[16].tags;let t;for(t=0;t<s.length;t+=1){const i=ve(a,s,t);l[t]?l[t].p(i,n):(l[t]=Ae(i),l[t].c(),l[t].m(e.parentNode,e))}for(;t<l.length;t+=1)l[t].d(1);l.length=s.length}},d(a){ee(l,a),a&&f(e)}}}function Ae(r){let e,s,l,a,n,t=r[22]+"",i,c;return{c(){e=_("label"),s=_("span"),l=N("Tags"),a=y(),n=_("span"),i=N(t),c=y(),this.h()},l(o){e=g(o,"LABEL",{class:!0});var d=v(e);s=g(d,"SPAN",{class:!0});var h=v(s);l=q(h,"Tags"),h.forEach(f),a=A(d),n=g(d,"SPAN",{class:!0});var E=v(n);i=q(E,t),E.forEach(f),c=A(d),d.forEach(f),this.h()},h(){p(s,"class","quotepart-label rounded-none svelte-zziz5s"),p(n,"class","rounded-none badge badge-warning input-xs bg-coolGray-900 text-sky-500 input-xs svelte-zziz5s"),p(e,"class","input-group input-group-xs rounded-none")},m(o,d){x(o,e,d),u(e,s),u(s,l),u(e,a),u(e,n),u(n,i),u(e,c)},p(o,d){d&8&&t!==(t=o[22]+"")&&M(i,t)},d(o){o&&f(e)}}}function Se(r){let e,s,l,a,n,t=r[16].context+"",i;return{c(){e=_("label"),s=_("span"),l=N("Context"),a=y(),n=_("span"),i=N(t),this.h()},l(c){e=g(c,"LABEL",{class:!0});var o=v(e);s=g(o,"SPAN",{class:!0});var d=v(s);l=q(d,"Context"),d.forEach(f),a=A(o),n=g(o,"SPAN",{class:!0});var h=v(n);i=q(h,t),h.forEach(f),o.forEach(f),this.h()},h(){p(s,"class","quotepart-label rounded-none svelte-zziz5s"),p(n,"class","rounded-none badge badge-warning input-xs bg-coolGray-900 text-sky-500 input-xs svelte-zziz5s"),p(e,"class","input-group input-group-xs rounded-none")},m(c,o){x(c,e,o),u(e,s),u(s,l),u(e,a),u(e,n),u(n,i)},p(c,o){o&8&&t!==(t=c[16].context+"")&&M(i,t)},d(c){c&&f(e)}}}function Te(r){let e,s=r[16].details,l=[];for(let a=0;a<s.length;a+=1)l[a]=Ne(ge(r,s,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=R()},l(a){for(let n=0;n<l.length;n+=1)l[n].l(a);e=R()},m(a,n){for(let t=0;t<l.length;t+=1)l[t].m(a,n);x(a,e,n)},p(a,n){if(n&8){s=a[16].details;let t;for(t=0;t<s.length;t+=1){const i=ge(a,s,t);l[t]?l[t].p(i,n):(l[t]=Ne(i),l[t].c(),l[t].m(e.parentNode,e))}for(;t<l.length;t+=1)l[t].d(1);l.length=s.length}},d(a){ee(l,a),a&&f(e)}}}function Ne(r){let e,s,l,a=r[19].type+"",n,t,i,c=r[19].value+"",o,d;return{c(){e=N(`DETAILS\r
								`),s=_("label"),l=_("span"),n=N(a),t=y(),i=_("span"),o=N(c),d=y(),this.h()},l(h){e=q(h,`DETAILS\r
								`),s=g(h,"LABEL",{class:!0});var E=v(s);l=g(E,"SPAN",{class:!0});var S=v(l);n=q(S,a),S.forEach(f),t=A(E),i=g(E,"SPAN",{class:!0});var k=v(i);o=q(k,c),k.forEach(f),d=A(E),E.forEach(f),this.h()},h(){p(l,"class","quotepart-label rounded-none svelte-zziz5s"),p(i,"class","rounded-none badge badge-info input-xs svelte-zziz5s"),p(s,"class","input-group input-group-xs rounded-none")},m(h,E){x(h,e,E),x(h,s,E),u(s,l),u(l,n),u(s,t),u(s,i),u(i,o),u(s,d)},p(h,E){E&8&&a!==(a=h[19].type+"")&&M(n,a),E&8&&c!==(c=h[19].value+"")&&M(o,c)},d(h){h&&f(e),h&&f(s)}}}function qe(r){var ie;let e,s,l=r[18]+1+"",a,n,t,i,c,o,d=r[16].quoteBody+"",h,E,S,k,m,P,Q=r[16].author+"",V,b,G,L,te,le,H,J=r[16].author+"",se,K,W,X,Y,Z,ae,w=r[16].authorTitle&&me(r),D=r[16].date&&Ee(r),I=r[16].source&&ke(r),B=r[16].tags.length&&ye(r),F=r[16].context&&Se(r),C=((ie=r[16].details)==null?void 0:ie.length)&&Te(r);return{c(){e=_("div"),s=_("div"),a=N(l),n=y(),t=_("h1"),i=_("span"),c=N("\u201C"),o=new pe,h=_("span"),E=N("\u201D"),S=y(),k=_("span"),m=N("~ "),P=new pe,V=y(),b=_("div"),G=_("label"),L=_("span"),te=N("Author"),le=y(),H=_("span"),se=y(),w&&w.c(),K=y(),D&&D.c(),W=y(),I&&I.c(),X=y(),B&&B.c(),Y=y(),F&&F.c(),Z=y(),C&&C.c(),ae=y(),this.h()},l(z){e=g(z,"DIV",{class:!0});var T=v(e);s=g(T,"DIV",{class:!0});var U=v(s);a=q(U,l),U.forEach(f),n=A(T),t=g(T,"H1",{class:!0});var O=v(t);i=g(O,"SPAN",{class:!0});var ue=v(i);c=q(ue,"\u201C"),ue.forEach(f),o=he(O),h=g(O,"SPAN",{class:!0});var ce=v(h);E=q(ce,"\u201D"),ce.forEach(f),S=A(O),k=g(O,"SPAN",{class:!0});var ne=v(k);m=q(ne,"~ "),P=he(ne),ne.forEach(f),O.forEach(f),V=A(T),b=g(T,"DIV",{class:!0});var j=v(b);G=g(j,"LABEL",{class:!0});var $=v(G);L=g($,"SPAN",{class:!0});var fe=v(L);te=q(fe,"Author"),fe.forEach(f),le=A($),H=g($,"SPAN",{class:!0});var Pe=v(H);Pe.forEach(f),$.forEach(f),se=A(j),w&&w.l(j),K=A(j),D&&D.l(j),W=A(j),I&&I.l(j),X=A(j),B&&B.l(j),Y=A(j),F&&F.l(j),Z=A(j),C&&C.l(j),j.forEach(f),ae=A(T),T.forEach(f),this.h()},h(){p(s,"class","badge bg-gray-700 svelte-zziz5s"),p(i,"class","quote-mark text-sky-300 svelte-zziz5s"),o.a=h,p(h,"class","quote-mark text-sky-300 svelte-zziz5s"),P.a=null,p(k,"class","quote-author text-sky-300 svelte-zziz5s"),p(t,"class","quote-body p-8 svelte-zziz5s"),p(L,"class","quotepart-label svelte-zziz5s"),p(H,"class","rounded-none badge badge-success bg-coolGray-900 text-sky-300 input-xs svelte-zziz5s"),p(G,"class","input-group input-group-xs rounded-none"),p(b,"class","flex flex-col justify-items-start place-items-start"),p(e,"class","card quote p-3 m-12 shadow-md border-sky-500 rounded-sm svelte-zziz5s")},m(z,T){x(z,e,T),u(e,s),u(s,a),u(e,n),u(e,t),u(t,i),u(i,c),o.m(d,t),u(t,h),u(h,E),u(t,S),u(t,k),u(k,m),P.m(Q,k),u(e,V),u(e,b),u(b,G),u(G,L),u(L,te),u(G,le),u(G,H),H.innerHTML=J,u(b,se),w&&w.m(b,null),u(b,K),D&&D.m(b,null),u(b,W),I&&I.m(b,null),u(b,X),B&&B.m(b,null),u(b,Y),F&&F.m(b,null),u(b,Z),C&&C.m(b,null),u(e,ae)},p(z,T){var U;T&8&&d!==(d=z[16].quoteBody+"")&&o.p(d),T&8&&Q!==(Q=z[16].author+"")&&P.p(Q),T&8&&J!==(J=z[16].author+"")&&(H.innerHTML=J),z[16].authorTitle?w?w.p(z,T):(w=me(z),w.c(),w.m(b,K)):w&&(w.d(1),w=null),z[16].date?D?D.p(z,T):(D=Ee(z),D.c(),D.m(b,W)):D&&(D.d(1),D=null),z[16].source?I?I.p(z,T):(I=ke(z),I.c(),I.m(b,X)):I&&(I.d(1),I=null),z[16].tags.length?B?B.p(z,T):(B=ye(z),B.c(),B.m(b,Y)):B&&(B.d(1),B=null),z[16].context?F?F.p(z,T):(F=Se(z),F.c(),F.m(b,Z)):F&&(F.d(1),F=null),((U=z[16].details)==null?void 0:U.length)?C?C.p(z,T):(C=Te(z),C.c(),C.m(b,null)):C&&(C.d(1),C=null)},d(z){z&&f(e),w&&w.d(),D&&D.d(),I&&I.d(),B&&B.d(),F&&F.d(),C&&C.d()}}}function xe(r){let e,s,l,a,n,t,i,c,o,d;function h(k,m){return k[0].length?je:Ge}let E=h(r),S=E(r);return{c(){e=_("div"),s=_("div"),l=_("input"),a=y(),n=_("div"),t=_("input"),i=y(),c=_("div"),S.c(),this.h()},l(k){e=g(k,"DIV",{class:!0});var m=v(e);s=g(m,"DIV",{class:!0});var P=v(s);l=g(P,"INPUT",{class:!0,id:!0,type:!0}),P.forEach(f),a=A(m),n=g(m,"DIV",{class:!0});var Q=v(n);t=g(Q,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Q.forEach(f),i=A(m),c=g(m,"DIV",{class:!0});var V=v(c);S.l(V),V.forEach(f),m.forEach(f),this.h()},h(){p(l,"class","input input-primary svelte-zziz5s"),p(l,"id","fileInput"),p(l,"type","file"),p(s,"class","fileinput-wrapper"),p(t,"type","text"),p(t,"id","filterTextBar"),p(t,"placeholder","Search quotes"),p(t,"class","w-5/6 mt-5 input input-primary rounded-md text-lg p-4 border-2 border-grey-200 svelte-zziz5s"),p(n,"class","flex w-full items-center justify-center"),p(c,"class","quotes svelte-zziz5s"),p(e,"class","quotes-wrapper flex flex-col w-full")},m(k,m){x(k,e,m),u(e,s),u(s,l),u(e,a),u(e,n),u(n,t),de(t,r[1]),u(e,i),u(e,c),S.m(c,null),o||(d=[re(l,"change",r[6]),re(l,"change",function(){Ie(r[4](r[2]))&&r[4](r[2]).apply(this,arguments)}),re(t,"input",r[7])],o=!0)},p(k,[m]){r=k,m&2&&t.value!==r[1]&&de(t,r[1]),E===(E=h(r))&&S?S.p(r,m):(S.d(1),S=E(r),S&&(S.c(),S.m(c,null)))},i:oe,o:oe,d(k){k&&f(e),S.d(),o=!1,Be(d)}}}function He(r){let e="";return r.length>1?(r.forEach(s=>{e+=`${s}<br>`}),e):(e="",r[0])}function Me(r,e,s){let l,a=[],n="",t=[],i="",c=[],o=[];Fe(()=>{s(5,l=localStorage.getItem("fileContent"))});function d(m){if(m){console.log("\u{1F680} ~ file: parseQuotes.svelte ~ line 14 ~ readFile ~ input_file",m[0]);let Q=m[0];var P=new FileReader;P.onload=function(V){n=V.target.result,console.log("Successfully read file"),Ce.set(n),h(n)},P.onerror=function(V){console.error("Failed to read file",V)},P.readAsText(Q)}}function h(m){let V=new DOMParser().parseFromString(m,"text/html").getElementsByTagName("div");o=E(V);for(let b=0;b<122;b++){let G=He(o[b]);(G.includes("\\r")||G.includes("\\n"))&&(G=G.replace(/(\\r\\n|\\n|\\r)/gm,""));let L={};L.originalText=L.remainingText=G,L.details=L.authorTitle=L.tags=L.sources=[],L=Ve(L),s(0,t=[...t,L])}Qe.set(t)}function E(m){let P=[];for(let Q=0;Q<m.length;Q++){let V=m[Q];V.innerText.length>5?P=[...P,V.innerText]:(o=[...o,P],P=[])}return o}function S(){a=this.files,s(2,a)}function k(){i=this.value,s(1,i)}return r.$$.update=()=>{r.$$.dirty&32&&l&&h(l),r.$$.dirty&3&&(i?s(3,c=t.filter(m=>m.originalText.toLowerCase().includes(i.toLowerCase()))):s(3,c=[...t]))},[t,i,a,c,d,l,S,k]}class Ue extends Le{constructor(e){super();we(this,e,Me,xe,De,{})}}export{Ue as default};
